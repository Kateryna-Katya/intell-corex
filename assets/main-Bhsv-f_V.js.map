{"version":3,"file":"main-Bhsv-f_V.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * Intell-Corex | Final Unified Script\n * Version: 1.2 (No Blur, No Lenis, Fixed Navigation)\n * Year: 2026\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК ---\n    const initIcons = () => {\n        if (typeof lucide !== 'undefined') lucide.createIcons();\n    };\n    initIcons();\n\n    // --- 2. МОБИЛЬНОЕ МЕНЮ И НАВИГАЦИЯ ---\n    const burger = document.querySelector('.burger');\n    const nav = document.querySelector('.nav');\n    const overlay = document.querySelector('.menu-overlay');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    const closeMenu = () => {\n        burger.classList.remove('active');\n        nav.classList.remove('active');\n        overlay.classList.remove('active');\n        document.body.classList.remove('menu-open');\n        document.body.style.overflow = ''; // Возвращаем скролл\n    };\n\n    const toggleMenu = () => {\n        const isOpening = !nav.classList.contains('active');\n        burger.classList.toggle('active');\n        nav.classList.toggle('active');\n        overlay.classList.toggle('active');\n        document.body.classList.toggle('menu-open', isOpening);\n        document.body.style.overflow = isOpening ? 'hidden' : '';\n    };\n\n    if (burger) {\n        burger.addEventListener('click', (e) => {\n            e.stopPropagation();\n            toggleMenu();\n        });\n    }\n\n    if (overlay) {\n        overlay.addEventListener('click', closeMenu);\n    }\n\n    // Обработка кликов по ссылкам (Якоря)\n    navLinks.forEach(link => {\n        link.addEventListener('click', (e) => {\n            const href = link.getAttribute('href');\n            \n            // Если это внутренняя ссылка\n            if (href.startsWith('#')) {\n                e.preventDefault();\n                const targetId = href.substring(1);\n                const targetElement = document.getElementById(targetId);\n\n                // 1. Сначала закрываем меню\n                closeMenu();\n\n                // 2. Скроллим к секции с задержкой (чтобы body успел разблокироваться)\n                if (targetElement) {\n                    setTimeout(() => {\n                        const headerOffset = 80;\n                        const elementPosition = targetElement.getBoundingClientRect().top;\n                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n                        window.scrollTo({\n                            top: offsetPosition,\n                            behavior: 'smooth'\n                        });\n                    }, 150); // Небольшая пауза для корректного расчета координат\n                }\n            }\n        });\n    });\n\n    // --- 3. ХЕДЕР ПРИ СКРОЛЛЕ ---\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.style.padding = '12px 0';\n            header.style.background = 'rgba(10, 12, 16, 0.98)';\n            header.style.borderBottom = '1px solid rgba(255, 255, 255, 0.1)';\n        } else {\n            header.style.padding = '20px 0';\n            header.style.background = 'transparent';\n            header.style.borderBottom = '1px solid rgba(255, 255, 255, 0.05)';\n        }\n    });\n\n    // --- 4. HERO АНИМАЦИЯ (GSAP + SplitType) ---\n    const initHero = () => {\n        const title = document.querySelector('.js-hero-text');\n        if (!title) return;\n\n        try {\n            const text = new SplitType('.js-hero-text', { types: 'words' });\n            \n            // Проявляем элементы\n            gsap.set(['.hero__title', '.hero__subtitle', '.js-hero-actions', '.js-hero-img', '.hero__badge'], { \n                opacity: 1, \n                visibility: 'visible' \n            });\n\n            const tl = gsap.timeline({ defaults: { ease: 'power4.out', duration: 1.2 } });\n\n            tl.from('.hero__badge', { y: 20, opacity: 0, delay: 0.5 })\n              .from(text.words, { y: 40, opacity: 0, rotationX: 30, stagger: 0.03 }, '-=0.8')\n              .from('.hero__subtitle', { y: 20, opacity: 0 }, '-=1')\n              .from('.js-hero-actions', { y: 20, opacity: 0 }, '-=1')\n              .from('.js-hero-img', { x: 50, opacity: 0, scale: 0.9, duration: 1.5 }, '-=1.2');\n\n        } catch (err) {\n            console.warn(\"GSAP/SplitType animation skipped.\");\n        }\n    };\n    setTimeout(initHero, 200);\n\n    // --- 5. ТАБЫ (ИННОВАЦИИ) ---\n    const tabBtns = document.querySelectorAll('.tab-btn');\n    const tabPanels = document.querySelectorAll('.tab-panel');\n\n    tabBtns.forEach(btn => {\n        btn.addEventListener('click', () => {\n            const target = btn.dataset.target;\n            tabBtns.forEach(b => b.classList.remove('active'));\n            tabPanels.forEach(p => p.classList.remove('active'));\n            btn.classList.add('active');\n            const panel = document.getElementById(target);\n            if (panel) panel.classList.add('active');\n            initIcons();\n        });\n    });\n\n    // --- 6. СЛАЙДЕР БЛОГА (Swiper) ---\n    if (document.querySelector('.blog-swiper')) {\n        new Swiper('.blog-swiper', {\n            slidesPerView: 1,\n            spaceBetween: 24,\n            loop: true,\n            navigation: { nextEl: '.swiper-next', prevEl: '.swiper-prev' },\n            breakpoints: { 768: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }\n        });\n    }\n\n    // --- 7. КАПЧА И ФОРМА КОНТАКТОВ ---\n    let captchaValue;\n    const captchaLabel = document.getElementById('captcha-question');\n    const contactForm = document.getElementById('ai-contact-form');\n    const successBox = document.getElementById('contact-success');\n\n    const generateCaptcha = () => {\n        if (!captchaLabel) return;\n        const n1 = Math.floor(Math.random() * 10) + 1;\n        const n2 = Math.floor(Math.random() * 10) + 1;\n        captchaValue = n1 + n2;\n        captchaLabel.innerText = `${n1} + ${n2} = ?`;\n    };\n\n    generateCaptcha();\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const answer = parseInt(document.getElementById('captcha-answer').value);\n\n            if (answer !== captchaValue) {\n                alert('Неверный ответ капчи!');\n                generateCaptcha();\n                document.getElementById('captcha-answer').value = '';\n                return;\n            }\n\n            const btn = contactForm.querySelector('button');\n            btn.disabled = true;\n            btn.innerText = 'Отправка...';\n\n            setTimeout(() => {\n                contactForm.style.display = 'none';\n                successBox.style.display = 'flex';\n                initIcons();\n            }, 1500);\n        });\n    }\n\n    // --- 8. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('intell_cookies_accepted')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 3000);\n    }\n\n    if (cookieBtn) {\n        cookieBtn.addEventListener('click', () => {\n            localStorage.setItem('intell_cookies_accepted', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    // --- 9. AOS (Анимация скролла) ---\n    AOS.init({ duration: 1000, once: true, offset: 50 });\n});\n\n// Глобальная функция для кнопки сброса (Success экран)\nfunction resetForm() {\n    location.reload(); \n}"],"names":["initIcons","burger","nav","overlay","navLinks","closeMenu","toggleMenu","isOpening","e","link","href","targetId","targetElement","offsetPosition","header","text","tabBtns","tabPanels","btn","target","b","p","panel","captchaValue","captchaLabel","contactForm","successBox","generateCaptcha","n1","n2","cookiePopup","cookieBtn"],"mappings":"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"}